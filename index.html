<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TO DO LIST</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
    
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">

</head>
<body>
    <div class="wrapper">
        <header>Todo App</header>
        <div class="inputField">
            <input type="text" placeholder="Add your new to do">
            <button><i class="fas fa-plus"></i></button>
        </div>
        <ul class="todoList" id="sortable">
            <!-- Data coming from javascript -->
        </ul>
        <div class="footer">
            <span>You have <span class="pendingNumb" ></span> pending task</span>
            <button>Clear All</button>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>    
    <script src="script.js"></script>
    <script>
        $( function() {
        //   $( "#sortable" ).sortable();
          $( "#sortable" ).disableSelection();

          $( "#sortable" ).sortable({
            stop: function( event, ui ) {
                [...document.querySelectorAll(".todoList li")].forEach((row,index) =>{
                    for (let j=0 ; j<listArr.length ; j++) {
                        console.log(listArr[j].id,row.dataset.id)
                        if (listArr[j].id == row.dataset.id){
                            listArr[j].sort = index;
                        } 
                    }
                    
                })
                console.log(listArr)
                localStorage.setItem("New Todo", JSON.stringify(listArr));
            }
});
        } );
        </script>
</body>
</html>